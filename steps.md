↓ GitHub Copilot に依頼

```
Webアプリケーションの開発です。
TODOアプリを作成したいです。

機能は以下のとおりです。
- TODO一覧の表示
- TODO追加
    - 作業内容および期限を入力可能
- TODOを完了ステータスに変更
    - チェックボックスをonにしたら完了
    - 完了したTODOには取り消し線を入れる

CSSはTailwindを使いたいです。
https://tailwindcss.com/

実装はAgent型AIツールを使って行います。
あなたはAI Agentが理解しやすいように実装タスクごとに作業を分割してください。

アウトプットは作業ごとのプロンプトでお願いします。
なお、AI Agentへの依頼用プロンプトなので、具体的な作業を指示するようにしてください。

各作業の最後には、変更に応じて .junie/guidelines.md を更新するように指示してください。
```


## タスク1: プロジェクトの初期設定

```
Spring BootとKotlinを使用したTODOアプリの基本構造を作成してください。

1. 必要な依存関係を`build.gradle.kts`に追加してください:
   - Spring Web
   - Spring Data JPA
   - H2 Database
   - Thymeleaf
   - Tailwind CSSのセットアップ (PostCSSやその他必要なツール)

2. 以下のプロジェクト構造を作成してください:
   - モデル: `Todo`エンティティ（id, title, dueDate, completed属性を持つ）
   - リポジトリ: `TodoRepository`インターフェース
   - コントローラー: `TodoController`
   - サービス: `TodoService`
   - ビュー: メインページのThymeleafテンプレート

3. application.propertiesの設定:
   - H2データベースの設定
   - その他必要な設定

すべてのコード例とファイル配置を示してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```


## タスク2: Todoモデルとリポジトリの実装

```
Todoアプリのデータモデルとリポジトリレイヤーを実装してください。

1. `Todo`エンティティクラスを作成:
   - id: Long (主キー)
   - title: String (TODOの内容)
   - dueDate: LocalDate (期限日)
   - completed: Boolean (完了フラグ)
   
2. JpaRepositoryを拡張した`TodoRepository`インターフェースを作成:
   - 基本的なCRUD操作
   - 完了/未完了のTODOを取得するためのカスタムクエリメソッド
   
コード例を含めて実装してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク3: サービスレイヤーの実装

```
TODOアプリのビジネスロジックを処理するサービスレイヤーを実装してください。

1. `TodoService`クラスを作成し、以下のメソッドを実装:
   - すべてのTODOを取得するメソッド
   - 新しいTODOを作成するメソッド
   - TODOの完了状態を切り替えるメソッド
   - TODOを削除するメソッド（オプション）
   
2. `TodoRepository`との適切な連携を実装してください。

完全なコード例を示してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク4: コントローラーの実装

```
Todoアプリのコントローラーレイヤーを実装してください。

1. `TodoController`クラスを作成し、以下のエンドポイントを実装:
   - `GET /`: メインページを表示し、すべてのTODOを一覧表示
   - `POST /todos`: 新しいTODOを作成
   - `POST /todos/{id}/toggle`: TODOの完了状態を切り替え
   - `DELETE /todos/{id}`: TODOを削除（オプション）
   
2. Thymeleafテンプレートとの連携を確実に行ってください。
3. POSTリクエスト用のフォームオブジェクトを定義してください。

完全なコード例を示してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク5: Thymeleafテンプレートとフロントエンド実装

```
TodoアプリのフロントエンドをThymeleafとTailwind CSSを使用して実装してください。

1. `src/main/resources/templates/index.html`に以下の要素を含むメインページを作成:
   - TODOリストを表示するセクション
     - 各TODOにはタイトル、期限、完了チェックボックスを表示
     - 完了したTODOにはタイトルに取り消し線を表示
   - 新しいTODOを追加するためのフォーム
     - タイトル入力欄
     - 期限選択用の日付ピッカー
     - 送信ボタン
   
2. Tailwind CSSを使用してUIをスタイリング:
   - レスポンシブデザイン
   - モダンで見やすいレイアウト
   - 適切な間隔、色、フォントの使用

3. JavaScriptを使用して、チェックボックスの状態変更時に自動的にフォーム送信される機能を実装

完全なHTMLコードと必要なCSS、JavaScriptを提供してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク6: Tailwind CSSの設定

```
Spring BootプロジェクトにTailwind CSSを統合してください。

1. 必要な依存関係をインストールするためのnpm設定:
   - package.jsonの作成
   - tailwindcss, postcss, autoprefixerのインストール方法
   
2. Tailwindの設定ファイル:
   - tailwind.config.jsの作成
   - postcss.config.jsの作成
   
3. Spring BootとTailwindの統合方法:
   - ビルドプロセスの設定
   - 静的リソースの処理方法
   
4. 開発時の利便性を高めるための設定:
   - ホットリロードの設定
   - ビルドスクリプトの作成

すべての設定ファイルと手順を詳細に説明してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク7: アプリケーションのテスト

```
作成したTODOアプリに対するテストを実装してください。

1. ユニットテストの作成:
   - `TodoService`のテスト
   - `TodoController`のテスト
   
2. 統合テスト:
   - エンドポイントが正しく動作するかのテスト
   - データベース操作が正しく行われるかのテスト
   
3. 全てのCRUD操作が正しく機能することを検証するテストケース:
   - TODOの作成
   - TODOの一覧表示
   - TODOの完了状態の切り替え
   - TODOの削除（実装した場合）

JUnit 5とMockitoを使用した完全なテストコードを提供してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク8: エラーハンドリングとバリデーション

```
TODOアプリにエラーハンドリングとバリデーション機能を追加してください。

1. フォーム入力のバリデーション:
   - タイトルは必須、かつ最大長の制限
   - 期限は現在以降の日付である必要がある
   
2. バリデーションエラーメッセージの表示:
   - ユーザーフレンドリーなエラーメッセージ
   - フォームフィールドの横に表示
   
3. グローバルエラーハンドリング:
   - 例外処理のためのAdviceクラスの実装
   - 適切なHTTPステータスコードの返却
   
4. ユーザー体験の向上:
   - フォームの初期値の設定
   - 送信後のフォームクリア

完全なコード例と実装方法を提供してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク9: アプリケーションの動作確認とデバッグ

```
実装したTODOアプリケーションの動作確認とデバッグを行ってください。

1. アプリケーションの起動:
   - 起動時のログを確認し、エラーがないことを確認
   - 正しいポートでサービスが実行されていることを確認
   
2. 機能テスト:
   - ブラウザからアプリにアクセスして、UI表示を確認
   - 新しいTODOを作成し、保存されることを確認
   - TODOの完了状態を切り替え、見た目と状態が変わることを確認
   
3. 問題が見つかった場合の修正方法:
   - ログの確認方法
   - デバッグ情報の表示方法
   - 一般的な問題の解決策

アプリケーションが正しく動作していることを確認するための手順を提供してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

## タスク10: アプリケーションの改良（オプション）

```
TODOアプリに追加機能を実装してください。

1. ユーザー体験の向上:
   - TODOの並べ替え機能（期限、作成日、アルファベット順など）
   - TODOのフィルタリング（完了/未完了、期限など）
   - ページネーション（TODO数が多い場合）
   
2. 追加機能:
   - TODOの優先度設定
   - TODOのカテゴリ/タグ付け
   - TODOの編集機能
   - TODOの検索機能
   
3. UIの改良:
   - ダークモード/ライトモード切り替え
   - アニメーション効果の追加
   - レスポンシブデザインの強化

選択した機能について詳細な実装方法とコードを提供してください。

実装が終わったら、変更後のプロジェクト全体を見て、`.junie/gudelines.md`の情報を更新してください。
```

